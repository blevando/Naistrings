@page "/Conferences"
@attribute [StreamRendering]
@inject NavigationManager Navigation

<PageTitle>Conferences</PageTitle> 


<h1 class="mb-4">Upcoming Developer Conferences</h1>

<div class="container">
    <div class="row g-4">
        @foreach (var conf in Conference)
        {
            <div class="col-12 col-md-6">
                <div class="card h-100 shadow-sm">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@conf.Title</h5>
                        <h6 class="card-subtitle mb-2 text-muted">@conf.Date.ToString("MMMM d, yyyy")</h6>
                        <p class="card-text flex-grow-1">@conf.Description</p>

                        <ul class="list-unstyled mb-3">
                            <li><strong>Location:</strong> @conf.Location</li>
                            <li><strong>Time:</strong> @conf.Time</li>
                        </ul>

                        <div class="mt-auto">
                            <button class="btn btn-primary w-100" @onclick="() => Register(conf.Id)" aria-label="Register for @conf.Title">
                                Register
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@code {
    private record ConferenceItem(string Id, string Title, DateTime Date, string Location, string Time, string Description);

    private List< ConferenceItem> Conference = new()
    {
        new ConferenceItem(
            Id: "conf-oct-1-2025",
            Title: "Dev Summit — October Edition",
            Date: new DateTime(2025, 10, 1),
            Location: "Lagos Tech Hub",
            Time: "09:00 AM - 05:00 PM",
            Description: "A full-day developer conference covering modern web development, cloud-native patterns, and hands-on workshops."
        ),
        new ConferenceItem(
            Id: "conf-dec-10-2025",
            Title: "Year-End Dev Con",
            Date: new DateTime(2025, 12, 10),
            Location: "Abuja Convention Centre",
            Time: "09:30 AM - 04:30 PM",
            Description: "Wrap up the year with talks on scaling systems, developer productivity, and a panel on career growth."
        ),
        new ConferenceItem(
            Id: "conf-mar-15-2026",
            Title: "Spring Code Fest",
            Date: new DateTime(2026, 3, 15),
            Location: "Port Harcourt Innovation Campus",
            Time: "10:00 AM - 05:00 PM",
            Description: "Workshops and lightning talks focused on APIs, developer tools, and advanced debugging techniques."
        ),
        new ConferenceItem(
            Id: "conf-may-20-2026",
            Title: "Cloud & DevOps Summit",
            Date: new DateTime(2026, 5, 20),
            Location: "Enugu Conference Hall",
            Time: "09:00 AM - 04:00 PM",
            Description: "An event for engineers and SREs exploring CI/CD, infrastructure as code, and cost-effective cloud patterns."
        ),
    };

    private void Register(string conferenceId)
    {
        // Simple navigation to a (hypothetical) registration page.
        // Change the URI to match your actual registration route.
        Navigation.NavigateTo($"/register?event={Uri.EscapeDataString(conferenceId)}");
    }
}